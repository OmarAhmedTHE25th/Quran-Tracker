generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model SurahProgress {
  userId         String @default("")
  number         Int
  englishName    String
  name           String @default("")
  completed      Boolean @default(false)
  numberOfAyahs  Int  @default(0)
  completedAyahs Int  @default(0)
  @@id([userId,number])
}

model UserStreak {
  userId      String    @id
  streakCount Int       @default(0)
  lastDate    DateTime?
  currentPage Int       @default(1)
  dailyGoal   Int       @default(20)
  targetDate  DateTime?
}

model UserBadge {
  id        String   @id @default(cuid())
  userId    String
  badgeKey  String
  awardedAt DateTime @default(now())
  details   String?

  @@unique([userId, badgeKey])
}

model UserReadingLog {
  userId    String
  date      DateTime
  ayahsRead Int      @default(0)
  pagesRead Int      @default(0)

  @@id([userId, date])
}
